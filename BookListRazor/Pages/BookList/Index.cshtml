@page
@model BookListRazor.IndexModel
@{
	ViewData["Title"] = "Index";
}

<div class="title">
	<h1>Books</h1>
</div>


<br />
<div class="container row p-0 m-0">
	<div class="col-10">
		<h2 class="text-info">Book List</h2>
	</div>
	<div class="col-2">
		<a asp-page="Create" class="btn btn-info form-control text-white">Create New Book</a>
	</div>
</div>

<!--Creates the table using Bootstrap-->
<div class="col-12 border p-3 mt-3">
	<!--Using POST to add data into database-->
	<form method="post">
		@if (Model.Books.Count() > 0)
		{
			<table class="table table-striped border">
				<tr class="table-secondary">
					<th>
						<label asp-for="Books.FirstOrDefault().Name"></label>
					</th>
					<th>
						@Html.DisplayFor(m => m.Books.First().Author);
					</th>
					<th>

					</th>
				</tr>
				@foreach (var item in Model.Books)
				{
					<tr>
						<td>
							@Html.DisplayFor(m => item.Name)
						</td>
						<td>
							@Html.DisplayFor(m => item.Author)
						</td>
						<td>
							<button class="btn btn-danger btn-sm">Delete</button>
							<a class="btn btn-success btn-sm text-white">Edit</a>
						</td>
					</tr>
				}

			</table>
		}
		else
		{
			<p>No books avaliable. Please try again later!</p>
		}
	</form>
</div>